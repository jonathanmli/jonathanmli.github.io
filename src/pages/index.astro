---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import TimeLineElement from "../components/cv/TimeLine.astro";
import { getCollection } from "astro:content";
import createSlug from "../lib/createSlug"
import { publications } from "../lib/publications";

const posts = (await getCollection("blog")).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

const last_posts = posts.slice(0, 3);
const featuredPublications = publications.slice(0, 3);
---

<BaseLayout sideBarActiveItemID="home">
  <div class="pb-12 mt-5">
    <div class="text-xl py-1">Hey there ðŸ‘‹</div>
    <div class="text-5xl font-bold">I'm Jonathan</div>
    <div class="text-3xl py-3 font-bold">AI Researcher exploring scalable reasoning and intelligent agents</div>
    <div class="py-2 space-y-4 text-lg">
      <p>
        I work on scaling the reasoning abilities of large language models and LLM agents through search,
        inference scaling, and reinforcement learning.
      </p>
      <p>
        I am a Visiting Scholar at <a class="link link-primary" href="https://www.caltech.edu/">Caltech</a>,
        advised by <a class="link link-primary" href="https://www.yisongyue.com/">Yisong Yue</a>. I am pursuing a Ph.D. in
        Computer Science at <a class="link link-primary" href="https://www.rpi.edu/">Rensselaer Polytechnic Institute</a>, advised by
        <a class="link link-primary" href="https://sites.ecse.rpi.edu/~paters/">Santiago Paternain</a> and previously by
        <a class="link link-primary" href="https://acbull.github.io/">Ziniu Hu</a>. I received my M.S. from the
        <a class="link link-primary" href="https://www.uchicago.edu/">University of Chicago</a>, where I worked with
        <a class="link link-primary" href="https://www.haifeng-xu.com/">Haifeng Xu</a> and <a class="link link-primary" href="https://dachxiu.chicagobooth.edu/">Dacheng Xiu</a>.
        Before that, I trained as an economist.
      </p>
      <p>
        My research has been featured in the <a class="link link-primary" href="https://www.stateof.ai/">State of AI Report</a>
        by Air Street Capital, appearing in the
        <a class="link link-primary" href="https://docs.google.com/presentation/d/1GmZmoWOa2O92BPrncRcTKa15xvQGhq7g4I4hJSNlC0M/edit#slide=id.g2d35a16f27e_0_24">2024 edition</a>.
      </p>
    </div>
  </div>

  <div class="flex flex-wrap items-center justify-between gap-2">
    <div class="text-3xl font-bold">Recent Publications</div>
    <a href="/publications" class="link link-primary text-sm md:text-base">View all</a>
  </div>

  {
    featuredPublications.map((publication, index) => (
      <>
        <HorizontalCard
          title={publication.title}
          subtitle={publication.subtitle}
          desc={publication.description}
          url={publication.url}
          badge={publication.badge}
          img={publication.image}
          links={publication.links}
        />
        {index < featuredPublications.length - 1 && <div class="divider my-0" />}
      </>
    ))
  }

  <section class="mt-12">
    <div class="mb-5 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
      <div class="text-3xl font-bold">Education</div>
      <a href="/cv" class="link link-primary text-sm md:text-base whitespace-nowrap">View background</a>
    </div>

    <div class="time-line-container grid gap-4">
      <TimeLineElement
        title="Ph.D. in Computer Science"
        subtitle="Aug 2023 - Present &middot; Rensselaer Polytechnic Institute (RPI), Troy, NY"
      />
      <TimeLineElement
        title="M.S. in Financial Mathematics"
        subtitle="Aug 2021 - Mar 2023 &middot; University of Chicago, Chicago, IL"
      />
      <TimeLineElement
        title="B.S. in Mathematics and Economics"
        subtitle="Aug 2017 - May 2021 &middot; Reed College, Portland, OR"
      />
    </div>
  </section>

  <div>
    <div class="text-3xl w-full font-bold mb-5 mt-10">Latest from blog</div>
  </div>

  {
    last_posts.map((post) => (
      <>
        <HorizontalCard
          title={post.data.title}
          img={post.data.heroImage}
          desc={post.data.description}
          url={"/blog/" + createSlug(post.data.title, post.slug)}
          target="_self"
          badge={post.data.badge}
        />
        <div class="divider my-0" />
      </>
    ))
  }
</BaseLayout>
